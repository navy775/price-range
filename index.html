 (cd "$(git rev-parse --show-toplevel)" && git apply --3way <<'EOF' 
diff --git a/index.html b/index.html
index 880d0596cbe6ebcded88e05b1db953fe13f777af..4e9db39e929945a72edf13c8ef87a6ba69df2d1a 100644
--- a/index.html
+++ b/index.html
@@ -41,86 +41,97 @@
         <label class="block font-semibold text-gray-700 mb-1">交易方向</label>
         <select id="direction" class="w-full border rounded p-3">
           <option value="long" selected>作多</option>
           <option value="short">作空</option>
         </select>
       </div>
     </div>
 
     <div class="text-center">
       <button onclick="calculate()" class="bg-blue-600 text-white text-lg px-6 py-3 rounded hover:bg-blue-700 w-full sm:w-auto">開始試算</button>
     </div>
 
     <!-- 表格顯示結果 -->
     <div class="mt-8 overflow-x-auto">
       <table class="min-w-full text-center border border-gray-300 rounded-xl">
         <thead class="bg-blue-200 text-blue-800 text-sm sm:text-base">
           <tr>
             <th class="p-2">買入價</th>
             <th class="p-2">賣出價</th>
             <th class="p-2">交易稅</th>
             <th class="p-2">手續費</th>
             <th class="p-2">損益</th>
             <th class="p-2">報酬率</th>
           </tr>
         </thead>
-        <tbody id="resultTable" class="bg-white text-sm sm:text-base"></tbody>
-      </table>
-    </div>
-  </div>
-
-  <script>
-    function getTickSize(price) {
-      if (price < 10) return 0.01;
-      if (price < 50) return 0.05;
-      if (price < 100) return 0.1;
-      if (price < 500) return 0.5;
-      if (price < 1000) return 1;
-      return 5;
-    }
-
-    function calculate() {
-      const buy = parseFloat(document.getElementById('buyPrice').value);
-      const shares = parseInt(document.getElementById('shares').value);
-      const feeRate = parseFloat(document.getElementById('feeRate').value) / 10;
-      const minFee = parseInt(document.getElementById('minFee').value);
-      const taxRate = parseFloat(document.getElementById('taxRate').value) / 100;
-      const direction = document.getElementById('direction').value;
-      const tick = getTickSize(buy);
-      const steps = 10;
-
-      const resultTable = document.getElementById('resultTable');
-      resultTable.innerHTML = '';
-
-      let priceSteps = [];
-      for (let i = -steps; i <= steps; i++) {
-        let sell = +(buy + i * tick).toFixed(2);
-        if (direction === 'short') sell = +(buy - i * tick).toFixed(2);
-        priceSteps.push(sell);
-      }
-      if (direction === 'long') priceSteps.reverse();
+        <tbody id="resultTable" class="bg-white text-sm sm:text-base"></tbody>
+      </table>
+    </div>
+    <div class="text-center mt-4">
+      <button onclick="showMore()" class="bg-gray-200 text-gray-700 px-4 py-2 rounded hover:bg-gray-300 w-full sm:w-auto">查看更多</button>
+    </div>
+  </div>
+
+  <script>
+    const baseSteps = 10;
+    let currentSteps = baseSteps;
+
+    function getTickSize(price) {
+      if (price < 10) return 0.01;
+      if (price < 50) return 0.05;
+      if (price < 100) return 0.1;
+      if (price < 500) return 0.5;
+      if (price < 1000) return 1;
+      return 5;
+    }
+
+    function calculate(reset = true) {
+      const buy = parseFloat(document.getElementById('buyPrice').value);
+      const shares = parseInt(document.getElementById('shares').value);
+      const feeRate = parseFloat(document.getElementById('feeRate').value) / 10;
+      const minFee = parseInt(document.getElementById('minFee').value);
+      const taxRate = parseFloat(document.getElementById('taxRate').value) / 100;
+      const direction = document.getElementById('direction').value;
+      const tick = getTickSize(buy);
+      if (reset) currentSteps = baseSteps;
+
+      const resultTable = document.getElementById('resultTable');
+      resultTable.innerHTML = '';
+
+      let priceSteps = [];
+      for (let i = -currentSteps; i <= currentSteps; i++) {
+        let sell = +(buy + i * tick).toFixed(2);
+        if (direction === 'short') sell = +(buy - i * tick).toFixed(2);
+        priceSteps.push(sell);
+      }
+      if (direction === 'long') priceSteps.reverse();
 
       for (let sell of priceSteps) {
         const totalBuy = buy * shares;
         const totalSell = sell * shares;
 
         const tax = Math.floor(totalSell * taxRate);
         const fee = Math.max(minFee, Math.floor((totalBuy + totalSell) * 0.001425 * feeRate));
 
         const profit = direction === 'long' ? (totalSell - totalBuy - tax - fee) : (totalBuy - totalSell - tax - fee);
         const returnRate = (profit / totalBuy * 100).toFixed(2);
 
-        const row = document.createElement('tr');
-        row.innerHTML = `
-          <td class="p-2">${buy}</td>
-          <td class="p-2">${sell}</td>
-          <td class="p-2">${tax}</td>
-          <td class="p-2">${fee}</td>
-          <td class="p-2 ${profit >= 0 ? 'text-green-600' : 'text-red-600'}">${profit}</td>
-          <td class="p-2 ${profit >= 0 ? 'text-green-600' : 'text-red-600'}">${returnRate}%</td>
-        `;
-        resultTable.appendChild(row);
-      }
-    }
-  </script>
-</body>
-</html>
+        const row = document.createElement('tr');
+        row.innerHTML = `
+          <td class="p-2">${buy}</td>
+          <td class="p-2">${sell}</td>
+          <td class="p-2">${tax}</td>
+          <td class="p-2">${fee}</td>
+          <td class="p-2 ${profit >= 0 ? 'text-green-600' : 'text-red-600'}">${profit}</td>
+          <td class="p-2 ${profit >= 0 ? 'text-green-600' : 'text-red-600'}">${returnRate}%</td>
+        `;
+        resultTable.appendChild(row);
+      }
+    }
+
+    function showMore() {
+      currentSteps += baseSteps;
+      calculate(false);
+    }
+  </script>
+</body>
+</html>
 
EOF
)
